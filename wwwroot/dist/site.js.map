{"version":3,"file":"site.js","mappings":";;;;;;;;;;;;;AAAA,IAAY,eAGX;AAHD,WAAY,eAAe;IACvB,2EAAe;IACf,qEAAY;AAChB,CAAC,EAHW,eAAe,+BAAf,eAAe,QAG1B;;;;;;;;;;;;;;ACHD,yHAA6D;AAE7D,MAAa,OAAO;IAMhB,YAAY,IAAU;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;IAC9B,CAAC;IAEM,QAAQ;QACX,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAExC,OAAO,SAAS,CAAC,WAAW,EAAE;aACzB,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEO,iBAAiB,CAAC,SAAsB;QAC5C,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE;YACvE,OAAO,iCAAe,CAAC,eAAe,CAAC;SAC1C;aAAM;YACH,OAAO,iCAAe,CAAC,YAAY,CAAC;SACvC;IACL,CAAC;IAEO,eAAe,CAAC,CAAa,EAAE,CAAa;QAChD,IAAI,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,UAAU,EAAE;YAC9B,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC;;AA/BL,0BAgCC;AA5BU,oBAAY,GAAe,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;;;;;;UCNtE;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;;;ACtBA,yHAA6D;AAC7D,+EAAoC;AAEpC,MAAM,eAAe,GAAqB,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;AACrF,MAAM,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;AAEnE,IAAI,eAAe,EAAE;IACjB,eAAe,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;QAC5C,iBAAiB,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;CACN;AAED,SAAS,iBAAiB,CAAC,KAAe;IACtC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAE3C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;QAAE,OAAO;KAAE;IACnC,MAAM,OAAO,GAAG,IAAI,iBAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAEtC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;IACpE,OAAO,CAAC,QAAQ,EAAE;SACb,IAAI,CAAC,MAAM,CAAC,EAAE;QACX,MAAM,OAAO,GAAG,MAAM,IAAI,iCAAe,CAAC,eAAe,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC;QACtG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,SAAS,GAAG,OAAO,CAAC;IACtE,CAAC,CAAC,CAAC;AACX,CAAC","sources":["webpack://zippy/./scripts/entities/detectionResult.ts","webpack://zippy/./scripts/zipFile.ts","webpack://zippy/webpack/bootstrap","webpack://zippy/./scripts/app.ts"],"sourcesContent":["export enum DetectionResult {\r\n    validZipArchive,\r\n    noZipArchive\r\n}","import { DetectionResult } from \"./entities/detectionResult\";\r\n\r\nexport class ZipFile {\r\n    file: File;\r\n    public fileName: string;\r\n\r\n    static zipSignature: Uint8Array = Uint8Array.from([80, 75, 3, 4]);\r\n\r\n    constructor(file: File) {\r\n        this.file = file;\r\n        this.fileName = file.name;\r\n    }\r\n\r\n    public validate(): Promise<DetectionResult> {\r\n        const signature = this.file.slice(0, 4);\r\n\r\n        return signature.arrayBuffer()\r\n            .then((buffer) => this.validateSignature(buffer));\r\n    }\r\n\r\n    private validateSignature(signature: ArrayBuffer): DetectionResult {\r\n        if (this.signaturesMatch(ZipFile.zipSignature, new Uint8Array(signature))) {\r\n            return DetectionResult.validZipArchive;\r\n        } else {\r\n            return DetectionResult.noZipArchive;\r\n        }\r\n    }\r\n\r\n    private signaturesMatch(a: Uint8Array, b: Uint8Array): boolean {\r\n        if (a.byteLength != b.byteLength) {\r\n            return false;\r\n        }\r\n        return a.every((val, i) => val == b[i]);\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { DetectionResult } from \"./entities/detectionResult\";\r\nimport { ZipFile } from \"./zipFile\";\r\n\r\nconst zipFileSelector = <HTMLInputElement>document.getElementById('zipFileSelector');\r\nconst zipFileContents = document.getElementById('zipFileContents');\r\n\r\nif (zipFileSelector) {\r\n    zipFileSelector.addEventListener('change', () => {\r\n        onZipFileSelected(zipFileSelector.files);\r\n    });\r\n}\r\n\r\nfunction onZipFileSelected(files: FileList) {\r\n    zipFileContents.classList.remove('hidden');\r\n\r\n    if (files.length !== 1) { return; }\r\n    const zipFile = new ZipFile(files[0]);\r\n\r\n    document.getElementById('zipFileName').innerText = zipFile.fileName;\r\n    zipFile.validate()\r\n        .then(result => {\r\n            const outcome = result == DetectionResult.validZipArchive ? \"Valid ZIP archive\" : \"Not a ZIP archive\";\r\n            document.getElementById('zipDetectionResult').innerText = outcome;\r\n        });\r\n}\r\n"],"names":[],"sourceRoot":""}